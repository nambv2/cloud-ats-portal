define(["app"],function(a){"use strict";a.factory("UserService",["$http","$q","$cookies","$rootScope","$window","$state",function(a,b,c,d,e,f){return{spaces:function(){var d=b.defer(),e={method:"GET",url:appConfig.RestEntry+"/api/v1/user/spaces",headers:{"X-AUTH-TOKEN":c.get("authToken")}};return a(e).success(function(a){d.resolve(a)}).error(function(a,b){switch(b){case 403:f.go("403");break;case 401:f.go("401")}d.reject}),d.promise},go:function(b,f){var g={method:"GET",url:appConfig.RestEntry+"/api/v1/user/go/"+b._id,headers:{"X-AUTH-TOKEN":c.get("authToken")}};a(g).success(function(a){e.sessionStorage.setItem("context",JSON.stringify(a)),d.context=a;var b=new Date;b.setDate(b.getDate()+365);var g=void 0!==a.space?a.space._id:null;null!=g?c.put("space",g,{expires:b}):c.remove("space"),"function"==typeof f&&f(a)})}}}])});