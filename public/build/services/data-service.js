define(["app"],function(a){"use strict";a.factory("DataService",["$http","$q","$cookies","$rootScope","$window","$state",function(a,b,c,d,e,f){return{list:function(b){var d={method:"GET",url:appConfig.RestEntry+"/api/v1/datas",headers:{"X-AUTH-TOKEN":c.get("authToken"),"X-SPACE":c.get("space")}};a(d).success(function(a,c){b(a,c)}).error(function(a,c){b(a,c)})},create:function(b,d,e,f){var g={method:"POST",url:appConfig.RestEntry+"/api/v1/data",headers:{"X-AUTH-TOKEN":c.get("authToken"),"X-SPACE":c.get("space")},data:{name:b,dataset:d,caseId:e}};a(g).success(function(a,b){f(a,b)}).error(function(a,b){f(a,b)})},update:function(b,d,e,f){var g={method:"PUT",url:appConfig.RestEntry+"/api/v1/data",headers:{"X-AUTH-TOKEN":c.get("authToken"),"X-SPACE":c.get("space")},data:{name:b,dataset:d,id:e}};a(g).success(function(a,b){f(a,b)}).error(function(a,b){f(a,b)})},get:function(d){var e=b.defer(),g={method:"GET",url:appConfig.RestEntry+"/api/v1/data/"+d,headers:{"X-AUTH-TOKEN":c.get("authToken"),"X-SPACE":c.get("space")}};return a(g).success(function(a){e.resolve(a)}).error(function(a,b){switch(b){case 403:f.go("403");break;case 401:f.go("401")}e.reject}),e.promise},"delete":function(b,d){var e={method:"DELETE",url:appConfig.RestEntry+"/api/v1/data",headers:{"X-AUTH-TOKEN":c.get("authToken"),"X-SPACE":c.get("space")},data:b};a(e).success(function(a,b){d(a,b)}).error(function(a,b){switch(b){case 403:f.go("403");break;case 401:f.go("401")}})}}}])});