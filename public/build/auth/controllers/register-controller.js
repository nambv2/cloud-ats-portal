define(["auth/module"],function(a){"use strict";function b(a,b,c,d,e,f){a.email="",a.password="",a.firstname="",a.lastname="",a.space="",f.getTenants(function(b){a.tenants=b,b.length>0?a.checkTenant=!0:a.checkTenant=!1}),a.submit=function(){var g=new Date;g.setDate(g.getDate()+365),0==a.checkEmailPattern&&0==a.checkEmail&&null!=a.selectedTenant&&""!=a.firstname&&""!=a.lastname&&a.password==a.repass&&f.register(a.email,a.password,a.firstname,a.lastname,a.selectedTenant,a.space,function(h){h.error?a.message=h.message:(d.sessionStorage.removeItem("context"),b.put("authToken",h.authToken,{expires:g}),f.context().then(function(a){d.sessionStorage.setItem("context",JSON.stringify(a)),e.context=a,c.go("app.dashboard")}))})}}return a.registerController("RegisterCtrl",["$scope","$cookies","$state","$window","$rootScope","AuthenticationService",b])});