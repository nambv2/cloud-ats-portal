define(["performance/module","lodash","morris","notification"],function(a,b){"use strict";a.registerController("PerformanceExeCtrl",["$scope","$state","$stateParams","$compile","$templateRequest","ScriptService","PerformanceService",function(a,c,d,e,f,g,h){a.searchTerms="",a.samplerReport=!0,a.projectId=d.id;var i=[];a.title="EXECUTION",g.list(a.projectId,function(b){a.scripts=b,a.totalScripts=b.totalScripts}),h.get(a.projectId,function(b){a.project=b,j()});var j=function(){return"RUNNING"==a.project.status?($.SmartMessageBox({title:"Project Execution Alert!",content:"Your project has been already running. Please back to overivew tab to track project progress",buttons:"[Go to overview]"},function(b){"Go to overview"===b&&c.go("app.performance",{id:a.projectId})}),!1):!0};a.selectScript=function(a){var c=$(".btn.btn-primary.btn-performance-run");-1!=b.indexOf(i,a)?b.remove(i,function(b){return b==a}):i.push(a),i.length>0?c.removeClass("disabled"):c.addClass("disabled")},a.runPerformanceTest=function(){j()&&h.run(d.id,i,function(b,d){switch(d){case 200:$.smallBox({title:"Notification",content:"You have submitted project job",color:"#296191",iconSmall:"fa fa-check bounce animated",timeout:3e3});break;case 204:$.smallBox({title:"Notification",content:"Your project has been already running",color:"#296191",iconSmall:"fa fa-check bounce animated",timeout:3e3});break;default:$.smallBox({title:"Notification",content:"Can not submmit your project job",color:"#c26565",iconSmall:"fa fa-ban bounce animated",timeout:3e3})}c.go("app.performance",{id:a.projectId})})}}])});