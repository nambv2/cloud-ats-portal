define(["layout/module","lodash","notification"],function(a,b){"use strict";a.registerDirective("demoStates",["$rootScope",function(a){return{restrict:"E",replace:!0,templateUrl:"build/layout/directives/demo/demo-states.tpl.html",scope:!0,link:function(a,b,c){b.parent().css({position:"relative"}),b.on("click","#demo-setting",function(){b.toggleClass("activate")})},controller:["$scope",function(a){var c=$("body");a.fixedHeader="true"==localStorage.getItem("sm-fixed-header"),a.fixedNavigation="true"==localStorage.getItem("sm-fixed-navigation"),a.fixedRibbon="true"==localStorage.getItem("sm-fixed-ribbon"),a.fixedPageFooter="true"==localStorage.getItem("sm-fixed-page-footer"),a.insideContainer="true"==localStorage.getItem("sm-inside-container"),a.menuOnTop="true"==localStorage.getItem("sm-menu-on-top"),a.skins=appConfig.skins,a.smartSkin=localStorage.getItem("sm-skin")||appConfig.smartSkin,a.setSkin=function(d){a.smartSkin=d.name,c.removeClass(b.pluck(a.skins,"name").join(" ")),c.addClass(d.name),localStorage.setItem("sm-skin",d.name),$("#logo img").attr("src",d.logo)},"smart-style-0"!=a.smartSkin&&a.setSkin(b.find(a.skins,{name:a.smartSkin})),a.factoryReset=function(){$.SmartMessageBox({title:'<i class="fa fa-refresh" style="color: green"></i> Clear Local Storage',content:"Would you like to RESET all your saved widgets and clear LocalStorage?",buttons:"[No][Yes]"},function(a){"Yes"==a&&localStorage&&(localStorage.clear(),location.reload())})},a.$watch("fixedHeader",function(b){localStorage.setItem("sm-fixed-header",b),c.toggleClass("fixed-header",b),0==b&&(a.fixedRibbon=!1,a.fixedNavigation=!1)}),a.$watch("fixedNavigation",function(b){localStorage.setItem("sm-fixed-navigation",b),c.toggleClass("fixed-navigation",b),b?(a.insideContainer=!1,a.fixedHeader=!0):a.fixedRibbon=!1}),a.$watch("fixedRibbon",function(b){localStorage.setItem("sm-fixed-ribbon",b),c.toggleClass("fixed-ribbon",b),b&&(a.fixedHeader=!0,a.fixedNavigation=!0,a.insideContainer=!1)}),a.$watch("fixedPageFooter",function(a){localStorage.setItem("sm-fixed-page-footer",a),c.toggleClass("fixed-page-footer",a)}),a.$watch("insideContainer",function(b){localStorage.setItem("sm-inside-container",b),c.toggleClass("container",b),b&&(a.fixedRibbon=!1,a.fixedNavigation=!1)}),a.$watch("menuOnTop",function(a){localStorage.setItem("sm-menu-on-top",a),c.toggleClass("menu-on-top",a),a&&c.removeClass("minified")})}]}}])});