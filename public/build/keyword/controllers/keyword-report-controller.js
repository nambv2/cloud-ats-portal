define(["keyword/module","lodash"],function(a,b){"use strict";a.registerController("KeywordReportCtrl",["$scope","$rootScope","$state","$stateParams","$templateRequest","$compile","$cookies","KeywordService",function(a,c,d,e,f,g,h,i){a.projectId=e.id,a.jobId=e.jobId,a.title="REPORTS",a.suiteReports=[],a.dataReports=[];var j=function(c){var d,e,f=JSON.parse(c.suite_reports);b.forEach(f,function(b,c){d=b,e=c;var f={x:e,P:d.total_pass,F:d.total_fail,S:d.total_skip};a.dataReports.push(f),d.test_result?d.test_result="Pass":d.test_result="Fail",a.suiteReports.push(d)}),k(a.dataReports)},k=function(a){var b=$(".functional-report");$("div").find(".functional-report").length>0&&Morris.Bar({element:b,axes:!0,grid:!0,data:a,xkey:"x",ykeys:["P","F","S"],labels:["Pass","Fail","Skip"],barColors:["#00B4A1","#ff5050","#ffaa2a"],stacked:!0})};i.getReport(a.projectId,a.jobId,function(a,b){j(a)}),a.redirectTo=function(){d.go("app.keyword",{id:a.projectId})}}])});