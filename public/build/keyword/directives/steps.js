define(["keyword/module","lodash"],function(a,b){"use strict";a.registerDirective("listSteps",["$timeout",function(a){return{restrict:"E",replace:!0,templateUrl:"build/keyword/directives/steps.tpl.html",scope:{list:"="},link:function(a,c,d){a.types=[{value:"id",text:"id"},{value:"name",text:"name"},{value:"link text",text:"link text"},{value:"css selector",text:"css selector"},{value:"xpath",text:"xpath"}],a.removeAction=function(c){var d=b.indexOf(a.list,c);a.list.splice(d,1)},a.moveUpAction=function(c){var d=b.indexOf(a.list,c),e={};if(angular.copy(a.list[d-1],e),void 0!==e&&null!==e){var f={};angular.copy(c,f),a.list[d]=e,a.list[d-1]=f}},a.moveDownAction=function(c){var d=b.indexOf(a.list,c),e={};if(angular.copy(a.list[d+1],e),void 0!==e&&null!==e){var f={};angular.copy(c,f),a.list[d]=e,a.list[d+1]=f}},a.buildActionDisplay=function(c){if(void 0!==c._id){var d=b.remove(a.list,function(a){return void 0!==a._id});return void b.forEach(d,function(c){b.forEach(c.steps,function(b){a.list.push(b)})})}var e=c.type,f=c.params;e+=" (",b.forEach(f,function(a){e+=a,e+=", "});var g=e.lastIndexOf(",");return-1!=g&&(e=e.substring(0,g)),e+=")"}}}}])});