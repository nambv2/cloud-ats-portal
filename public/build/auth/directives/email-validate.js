define(["auth/module"],function(a){"use strict";a.registerDirective("emailValidate",["AuthenticationService",function(a){return{restrict:"A",link:function(b,c,d){c.on("blur",function(){var d=c.val(),e=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/.test(d);0==e?(b.checkEmailPattern=!0,b.notify='The email must contain "., @" characters and not be empty',c.parent().removeClass("state-success"),c.parent().addClass("state-error")):b.checkEmailPattern=!1,d.length>0?a.checkAccount(d,function(a){"false"==a?(b.checkEmail=!0,b.message="The email exists, you can use another email",c.parent().removeClass("state-success"),c.parent().addClass("state-error")):b.checkEmail=!1}):b.checkEmail=!1})}}}])});